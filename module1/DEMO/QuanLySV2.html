<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quản lý sinh viên</title>
</head>
<body>
<input type="button" value="Add new Student" onclick="addNewStudent()">
<p id="ketQua"></p>
<script>
    class Student {
        constructor(id, name, age) {
            this.id = id;
            this.name = name;
            this.age = age;
        }

        setId(id) {
            this.id = id;
        }

        getId() {
            return this.id;
        }

        setName(name) {
            this.name = name;
        }

        getName() {
            return this.name;
        }

        setAge(age) {
            this.age = age;
        }

        getAge() {
            return this.age;
        }

        toString() {
            return "1. id = " + this.id + "\n 2. name = " + this.name + "\n3. age = " + this.age;
        }
    }

    let listStudent = [];
    let student1 = new Student(1, "Nguyễn Văn A", 18);
    let student2 = new Student(2, "Nguyễn Văn B", 18);
    let student3 = new Student(3, "Nguyễn Văn C", 18);
    listStudent.push(student1, student2, student3);
    display(listStudent);

    function edit(index) {
        let studentEdit = listStudent[index];
       let check=true;
       do {
           let choose = prompt("Chọn thuộc tính cấn sửa\n"+studentEdit.toString()+"\n 4.Exit");
           switch (choose) {
               case "1":
                   let newID = prompt("Nhập vào id mới");
                   studentEdit.setId(newID);
                   break;
               case "2":
                   let newName = prompt("Nhập vào ten mới");
                   studentEdit.setName(newName);
                   break;
               case "3":
                   let newAge = prompt("Nhập vào tuổi mới");
                   studentEdit.setAge(newAge);
                   break;
                   default:
                       check=false;
           }
       }while (check);
       display(listStudent);
    }
    function addNewStudent() {
       let id = prompt(" input id");
       let name = prompt(" input name");
       let age = prompt(" input age");
       let  student = new Student(id, name, age);
       listStudent.push(student);
       display(listStudent);
    }
   function display(list) {
     let tableString='<table border="1">\n' +
         '    <tr>\n' +
         '        <th>STT</th>\n' +
         '        <th>Id</th>\n' +
         '        <th>Name</th>\n' +
         '        <th>Age</th>\n' +
         '        <th>Edit</th>\n' +
         '        <th>Delete</th>\n' +
         '\n' +
         '    </tr>';
     for (let i =0;i<list.length;i++){
         tableString+='<tr>\n' +
             '        <td>'+(i+1)+'</td>\n' +
             '        <td>'+list[i].getId()+'</td>\n' +
             '        <td>'+list[i].getName()+'</td>\n' +
             '       <td>'+list[i].getAge()+'</td>\n' +
             '        <td><input type="button" value="Edit" onclick="edit('+i+')"></td>\n' +
             '        <td><input type="button" value="Delete" onclick="deleteProduct('+i+')"></td>\n' +
             '    </tr>';
     }
     tableString+='</table>';
     document.getElementById("ketQua").innerHTML=tableString;
   }
   function deleteProduct(index) {
        let confirmDelete= confirm(" bạn có muốn xóa sinh viên "+ listStudent[index].getName());
        if(confirmDelete){
            listStudent.splice(index,1);
        }
        display(listStudent);
   }



</script>
</body>
</html>
